<meta charset="utf-8">
<meta name="description" content="{{ site.description }}">
<meta name="viewport" content="width=device-width">

<title>{% if page.title %}{{ page.title }}{% else %}{{ site.name }}{% endif %}</title>

<!-- 
	Site build commissioned by Yak Collective member #12
	YakCoin transaction ID: 0x18ehd76h
-->

<link rel="icon" href="/assets/yak-logo-square.png" />

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;400;700&family=Playfair+Display&display=swap">
<link rel="stylesheet" href="/css/tachyons.min.css">
<link rel="stylesheet" href="/css/all.css">
{% if page.url == "/projects/" or page.layout == "member" %}
	<style type="text/css">
		{% for project in site.projects %}
			{% if project.name %}
				{% if project.accent_color %}
					.{{ project.name }}-color { color: {{ project.accent_color }}; }
				{% endif %}
				{% if project.hero_image %}
					.{{ project.name }}-hero { background-image: url("{{ project.hero_image }}"); }
				{% endif %}
			{% endif %}
		{% endfor%}
	</style>
{% endif %}
{% if page.layout == "project" %}
	{% if page.page_css or (page.name and (page.accent_color or page.hero_image)) %}
		<style type="text/css">
			{% if page.name %}
				{% if page.accent_color %}
					.{{ page.name }}-color { color: {{ page.accent_color }}; }
				{% endif %}
				{% if page.hero_image %}
					.{{ page.name }}-hero { background-image: url("{{ page.hero_image }}"); }
				{% endif %}
			{% endif %}
			{% if page.page_css %}
				{{ page.page_css }}
			{% endif %}
		</style>
	{% endif %}
{% endif %}

<script src="https://code.jquery.com/jquery-1.10.2.min.js" type="text/javascript"></script>

<meta property="og:type" content="article" />
<meta property="og:url" content="{{ site.url }}{{ page.url }}" />
<meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}The Yak Collective{% endif %}" />
{% if page.layout == "member" %}
	{% assign og_image = page.avatar %}
{% elsif page.layout == "post" and page.author %}
	{% assign member = site.members | where: "name", page.author | first %}
	{% if member.avatar %}
		{% assign og_image = member.avatar %}
	{% else %}
		{% assign og_image = "/assets/yak-og.png" %}
	{% endif %}
{% else %}
	{% assign og_image = "/assets/yak-og.png" %}
{% endif %}
<meta property="og:image" content="{{ site.url }}{{ og_image }}" />
{% if og_image == "/assets/yak-og.png" %}
	<meta property="og:image:width" content="600" />
	<meta property="og:image:height" content="315" />
{% endif %}

{% if page.layout == "post" %}
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@yak_collective">
	{% if page.author %}
		{% assign member = site.members | where: "name", page.author | first %}
		{% if member.twitter %}
			{% assign twitter_creator = member.twitter %}
		{% else %}
			{% assign twitter_creator = "yak_collective" %}
		{% endif %}
		{% if member.avatar %}
			{% assign twitter_image = member.avatar %}
		{% else %}
			{% assign twitter_image = "/assets/yak-og.png" %}
		{% endif %}
	{% else %}
		{% assign twitter_creator = "yak_collective" %}
		{% assign twitter_image = "/assets/yak-og.png" %}
	{% endif %}
	<meta name="twitter:creator" content="@{{ twitter_creator }}">
	<meta name="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}The Yak Collective{% endif %}">
	<meta name="twitter:description" content="{% if page.subtitle %}{{ page.subtitle }}{% else %}{{ page.content | truncatewords: 20 | strip_html }}{% endif %}">
	<meta name="twitter:image" content="{{ site.url }}{{ twitter_image }}">
{% endif %}

<link rel="alternate" type="application/json" title="The Yak Collective's Latest Writings" href="/writings/feed.json">
<link rel="alternate" type="application/rss+xml" title="The Yak Collective's Latest Writings" href="/writings/feed.xml">
{% for member in site.members %}
	{% if member.feed %}
		<link rel="alternate" type="application/rss+xml" title="{{ member.title }}" href="{{ member.feed }}">
	{% endif %}
{% endfor %}
