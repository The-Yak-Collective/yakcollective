---
title: 'TryHackMe: Pre Security (Supplements)'
date: 2021-09-20 05:00:00.000000000 Z
layout: post-external
original_link: https://cardboard-iguana.com/log/2021-09-20-tryhackme-pre-security-supplements.html
author: 100007
---

<h1 id="tryhackme-pre-security-supplements">TryHackMe: Pre Security (Supplements)</h1>
<p><strong>author:</strong> Nathan Acks<br />
<strong>date:</strong> 2021-09-20</p>
<h2 id="bash-scripting">Bash Scripting</h2>
<h3 id="variables">Variables</h3>
<p>Using the -x flag will force bash to output each line of the shell script you’re running before that line is executed. This can be useful for debugging.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bash <span class="nt">-x</span> ./script.sh
</code></pre></div></div>
<p>The -x flag can also be incorporated into the interpreter line.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash -x</span>
<span class="c"># Script content…</span>
</code></pre></div></div>
<p>Finally, this mode can be toggled on and off with the <code class="language-plaintext highlighter-rouge">set</code> command within the script itself.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="c"># Some script content…</span>
<span class="nb">set</span> <span class="nt">-x</span>
<span class="c"># These lines will be echoed before execution.</span>
<span class="nb">set</span> +x
<span class="c"># These lines will not be echoed…</span>
</code></pre></div></div>
<p>Frequently <code class="language-plaintext highlighter-rouge">set -x</code> is used at the start of a script without a closing <code class="language-plaintext highlighter-rouge">set + x</code>, which will just cause all lines of the script to be echoed back before execution.</p>
<h3 id="parameters">Parameters</h3>
<p>The <code class="language-plaintext highlighter-rouge">read</code> command in bash will set the variable name supplied to whatever is provided on STDIN (presumably up to IFS). For example:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/usr/bin/env bash</span>
<span class="nb">echo</span> <span class="nt">-n</span> <span class="s2">"Enter something: ""
read INPUT
echo "</span>You typed: <span class="nv">$INPUT</span><span class="s2">"
</span></code></pre></div></div>
<p>Will echo back whatever is typed in, prefixed by “You typed: “.</p>
<h3 id="arrays">Arrays</h3>
<p>Bash actually does support arrays.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">MY_ARRAY</span><span class="o">=(</span><span class="s1">'item0'</span> <span class="s1">'item1'</span> <span class="s1">'item2'</span><span class="o">)</span>
</code></pre></div></div>
<p>As the above example suggests, arrays are 0-indexed. Use @ to output the full (space-separated) array.</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">echo</span> <span class="s2">"</span><span class="nv">$MY_ARRAY</span><span class="s2">"</span> <span class="c"># item0 (weird!)</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">$&#x007b;</span><span class="nv">MY_ARRAY</span><span class="p">[@]</span><span class="k">&#x007d;</span><span class="s2">"</span> <span class="c"># item0 item1 item2</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">$&#x007b;</span><span class="nv">MY_ARRAY</span><span class="p">[1]</span><span class="k">&#x007d;</span><span class="s2">"</span> <span class="c"># item1</span>
<span class="nb">unset </span>MY_ARRAY[1]
<span class="nb">echo</span> <span class="s2">"</span><span class="k">$&#x007b;</span><span class="nv">MY_ARRAY</span><span class="p">[@]</span><span class="k">&#x007d;</span><span class="s2">"</span> <span class="c"># item0 item2</span>
<span class="c"># But be aware that this DOESN’t change the index of any</span>
<span class="c"># element!</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">$&#x007b;</span><span class="nv">MY_ARRAY</span><span class="p">[0]</span><span class="k">&#x007d;</span><span class="s2">"</span> <span class="c"># item0</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">$&#x007b;</span><span class="nv">MY_ARRAY</span><span class="p">[1]</span><span class="k">&#x007d;</span><span class="s2">"</span> <span class="c"># Outputs nothing…</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">$&#x007b;</span><span class="nv">MY_ARRAY</span><span class="p">[2]</span><span class="k">&#x007d;</span><span class="s2">"</span> <span class="c"># item2</span>
MY_ARRAY[0]<span class="o">=</span><span class="s2">"item3"</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">$&#x007b;</span><span class="nv">MY_ARRAY</span><span class="p">[@]</span><span class="k">&#x007d;</span><span class="s2">"</span> <span class="c"># item3 item2</span>
MY_ARRAY[3]<span class="o">=</span><span class="s2">"item4"</span>
<span class="nb">echo</span> <span class="s2">"</span><span class="k">$&#x007b;</span><span class="nv">MY_ARRAY</span><span class="p">[@]</span><span class="k">&#x007d;</span><span class="s2">"</span> <span class="c"># item3 item2 item4</span>
</code></pre></div></div>