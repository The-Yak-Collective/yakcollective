---
title: 'TryHackMe: Complete Beginner'
date: 2021-10-12 05:00:00.000000000 Z
layout: post-external
original_link: https://cardboard-iguana.com/log/2021-10-12-tryhackme-complete-beginner.html
author: 100007
---

<h1 id="tryhackme-complete-beginner">TryHackMe: Complete Beginner</h1>
<p><strong>author:</strong> Nathan Acks<br />
<strong>date:</strong> 2021-10-12</p>
<h2 id="john-the-ripper">John the Ripper</h2>
<h3 id="cracking-basic-hashes">Cracking Basic Hashes</h3>
<p>John will attempt to identify the hashes that it’s been given if the hash type is not explicitly provided. This can be kind of unreliable though.</p>
<p>A better option is to use the hash-identifier script on Kali Linux; this script doesn’t try to <em>exactly</em> guess the hash, but will return a list of <em>possible</em> hashes. This + context about the providence of the hashes will generally be enough to let you make an informed guess.</p>
<p>Use the –format option to specify a particular hash type (–list=formats will provide you with a complete list; note that the –format option is <em>not</em> case-sensitive). Be aware that john can only work on a single format at a time, so a file of mixed hashes is not allowed.</p>
<p>John requires a wordlist to use; it’s basically just hashing elements of the wordlist and then comparing them with the target hash (so, a way to do fast dictionary attacks).</p>
<h3 id="cracking-windows-authentication-hashes">Cracking Windows Authentication Hashes</h3>
<p>NThash password hashes live in the NTDS.dit database on Active Directory servers. For many (most?) Windows operations, the password hash is as good as the password itself (“pass the hash” attacks), so there’s often no need to actually crack these.</p>
<p>Use the <code class="language-plaintext highlighter-rouge">nt</code> format to crack NThashes in john.</p>
<h3 id="cracking-etcshadow-hashes">Cracking /etc/shadow Hashes</h3>
<p>John is very particular about cracking Linux shadow passwords; you can’t just feed it /etc /shadow directly, but rather need to use the <code class="language-plaintext highlighter-rouge">unshadow</code> command to (re)combine the /etc/passwd and /etc/shadow (or the relevant lines from each), and then have john chew on the resulting output.</p>
<p>In general it’s not necessary to specify the hash format in this case, though if for some reason you need to it’s sha512crypt for modern Linux systems.</p>
<h3 id="single-crack-mode">Single Crack Mode</h3>
<p>John’s “single crack mode” (–single) is just about exploiting bad password practice — basing passwords off of the username, or details of the operating system. It can be used over “unshadowed” UNIX-style passwords (in which case it will exploit not only the username, but data from other GECOS fields), or on single hashes (in which case the hash must be written as USERNAME:HASH so that john has something to go off of).</p>
<p>Obviously, a wordlist is not required in single crack mode.</p>
<p>(And I’m honestly not sure how useful this is going to be in the present day and age.)</p>
<h3 id="custom-rules">Custom Rules</h3>
<p>People typically add “complexity” to a password by appending or prepending the required numbers and symbols (capital letters generally live on either the beginning or end of the password).</p>
<p>John’s rules can be used to construct additional permutations of a wordlist to cover these cases. The rule syntax isn’t really covered in the TryHackMe room, but seems to be just close enough to regexes to be annoying. Examples can be found in /etc/john/john.conf; the comments make for interesting reading.</p>
<h3 id="cracking-password-protected-zip-files">Cracking Password Protected Zip Files</h3>
<p>Cracking zip file passwords is similar to cracking UNIX passwords — pass to the zip2john pre-processor first, and then feed john the resulting output (<em>without</em> the –format specifier).</p>
<h3 id="cracking-password-protected-rar-archives">Cracking Password Protected RAR Archives</h3>
<p>Same deal as with zip files for rar files, except use rar2john as the pre-processor.</p>
<h3 id="cracking-ssh-keys-with-john">Cracking SSH Keys with John</h3>
<p>Same deal again for cracking ssh key passwords… Except that the tool’s in /usr/share/john/ssh2john.py this time (this script probably isn’t installed in the PATH because it needs to be run using python2).</p>
<p>NOTE: John is susceptible to false positives when cracking ssh keys, and will thus try the entire provided wordlist (just in case!).</p>