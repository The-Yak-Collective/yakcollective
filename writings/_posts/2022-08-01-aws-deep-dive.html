---
title: AWS Deep Dive
date: 2022-08-01 12:00:00.000000000 Z
layout: post-external
original_link: https://cardboard-iguana.com/log/2022-08-01-aws-deep-dive.html
author: 100007
---

<h1 id="aws-deep-dive">AWS Deep Dive</h1>
<p><strong>author:</strong> Nathan Acks<br />
<strong>date:</strong> 2022-08-01</p>
<p>Finally getting back to the “AWS Cloud Practitioner Essentials” course! Today I’ll be covering the “Storage and Databases” module.</p>
<ul>
<li><a href="https://www.aws.training/learningobject/curriculum?id=27076">AWS Cloud Practitioner Essentials</a></li>
</ul>
<h1 id="ebs">EBS</h1>
<ul>
<li>Instance Store Volumes - storage attached to the “physical” EC2 hardware. This storage is as ephemeral as an EC2 instance, as when an EC2 instance is restarted it may be spun up on a different VM.</li>
<li>Elastic Block Store - EC2-independent block storage. Think of it like an external hard drive.</li>
</ul>
<p>EBS volumes support snapshotting. Snapshots are <em>incremental</em> backups.</p>
<p>EBS volumes can be up to 16 TB in size, and come in SSD and HDD flavors. They are limited to a single availability zone (data center).</p>
<h1 id="s3">S3</h1>
<p>The maximum S3 object size is 5 TB. There are <em>no</em> limits to total bucket size.</p>
<p>Notable S3 tiers:</p>
<ul>
<li>Standard Tier - 99.999999999% availability; all data is stored within <em>at least</em> three availability zones. Can be used to host static websites.</li>
<li>Infrequent Access (IA) - data that is infrequently accessed but cannot experience delays <em>when</em> accessed (think backups). It has a lower storage price and higher retrieval price than the standard tier (but the same availability).</li>
<li>One Zone Infrequent Access - Like the IA tier, but only stores data in a single availability zones. This makes it cheaper but less durable.</li>
<li>Intelligent Tiering - Uses analytics to dynamically move objects between the standard and IA tiers.</li>
<li>Glacier - data that is infrequently accessed and <em>doesn’t</em> require quick access. Can be set up as a WORM drive, or have specific retention periods applied. (Note that these policies <em>cannot</em> be changed once applied.)</li>
<li>Glacier Deep Archive - Cheaper than Glacier, but data can take up to 12 hours to become available.</li>
</ul>
<p>Data can either be uploaded directly to Glacier, or moved automatically using lifecycle policies.</p>
<p>Objects in S3 have three components: data, metadata, and key (name). Just like a normal filesystem. Unlike normal filesystems, however, all S3 objects are resolvable to normal (public, if desired) URLs.</p>
<p>S3 works best for write-once, read-many applications.</p>
<h1 id="efs">EFS</h1>
<p>Elastic Filesystem is a “managed” filesystem - think something like NFS, or a SAN.</p>
<p>Like most Amazon services, EFS can autoscale with load and has a variety of automation options (automatic snapshots, etc.).</p>
<p>EFS mounts as a normal Linux filesystem, and is a region-level resource (so, it works across data centers, but you can’t have a global EFS).</p>
<p>Files stored in EFS can be written to at the block level, just like files in local storage.</p>
<p>Like S3, data stored in EFS is replicated across multiple availability zones.</p>
<p>The AWS Direct Connect client allows for EFS deployments to be accessed by on-prem systems.</p>
<h1 id="rds">RDS</h1>
<p>Amazon’s “Relational Database Service” supports most common DBs:</p>
<ul>
<li>MySQL/MariaDB</li>
<li>PostgrSQL</li>
<li>MS SQL Server</li>
<li>Oracle SQL</li>
</ul>
<p>RDS abstracts the underlying database <em>server</em>, so it’s a bit like Google App Engine, but for DBs. Patching, backups, redundancy, etc. can all be configured in RDS without having to deal with the low-level differences in these operations between different DB flavors.</p>
<p>Amazon also provides a “lift and shift” service to aid migration from on-prem DBs to EC2-backed “RDMS” (“Relational Database Management Service”) systems. These support the same databases as RDS, but function in a more traditional, server-centric fashion.</p>
<p>Aurora is an in-house database developed by Amazon for high availability scenarios. It supports up to 15 replicase across up to 3 availability zones, and can be configured in MySQL or PostgreSQL compatibility mode. Aurora is only available on RDS (it <em>cannot</em> be deployed on a managed server).</p>
<h1 id="dynamodb">DynamoDB</h1>
<p>DynamoDB is a serverless NoSQL database. Scaling and redundancy is handled automatically.</p>
<p>NoSQL systems work best when searching through a large number of objects in a single data store, while relational databases are better at, well, relating (simpler) objects <em>across</em> data stores.</p>
<p>Basically, NoSQL systems work best when dealing with data structured as a lookup table, without much/any relationship between the objects in the table (or between tables).</p>
<h1 id="redshift">Redshift</h1>
<p>Redshift is Amazon’s solution for data lakes/warehouses. It’s optimized for dealing with large quantities of <em>static</em> data. Structured (pentabytes) and unstructured (exabytes) data is supported.</p>
<h1 id="database-migration-service">Database Migration Service</h1>
<p>Amazon DMS is designed to handle realtime migration from on-prem databases to EC2, RDS, or DynamoDB. It supports both homogenous (between databases of the same type) and heterogenous (between databases of different types) migrations. DMS is designed to migrate data without requiring downtime in either the source or destination DBs.</p>
<p>DMS also supports migration <em>between</em> EC2 and RDS accounts.</p>
<p>DMS can also be used for replication, DB consolidation, and the creation of development/testing data sets from production data.</p>
<h1 id="other-aws-database-services">Other AWS Database Services</h1>
<p>Additional, more specialized, DB options:</p>
<ul>
<li>DocumentDB - NoSQL system optimized for content management systems, based on MongoDB.</li>
<li>Neptune - a graph database (social networks, recommendation engines, fraud detection, etc.).</li>
<li>Managed Blockchain</li>
<li>Quantum Ledger Database - basically a WORM database for highly regulated institutions.</li>
</ul>
<p>DB extensions:</p>
<ul>
<li>ElastiCache - memcached and Redis.</li>
<li>DAX - cacheing for DynamoDB.</li>
</ul>