---
title: 'OffSec Live: PEN-200'
date: 2022-08-17 12:00:00.000000000 Z
layout: post-external
original_link: https://cardboard-iguana.com/log/2022-08-17-offsec-live-pen-200.html
author: 100007
---

<h1 id="offsec-live-pen-200">OffSec Live: PEN-200</h1>
<p><strong>author:</strong> Nathan Acks<br />
<strong>date:</strong> 2022-08-17</p>
<p>OffSec Live returns today after taking a week off for DEF CON.</p>
<ul>
<li><a href="https://www.offensive-security.com/offsec/offsec-live/">OffSec Live</a></li>
<li><a href="https://learn.offensive-security.com/offsec-live-webinars">Join OffSec Live</a></li>
<li><a href="https://defcon.org/html/defcon-30/dc-30-index.html">DEF CON 30</a></li>
</ul>
<h1 id="windows-privilege-escalation">Windows Privilege Escalation</h1>
<p>Recommended privilege escalation resource: g0tm1lk’s Blog.</p>
<p>The Windows Sysinternal’s Process Explorer is an important tool for Windows enumeration.</p>
<p>Use <code class="language-plaintext highlighter-rouge">net user $USERNAME</code> to get a lot of information about a given Windows user.</p>
<p>The <code class="language-plaintext highlighter-rouge">lsass.exe</code> process is responsible for all authentication on Windows - if you can gain access to this process, you basically own the box.</p>
<p>Processes running with a more highly permissioned user than your current user in Windows will not show CPU usage, path information, and other metadata. This is a quick-and-dirty way to locate potentially targets for exploitation.</p>
<p>Quick system information on Windows: <code class="language-plaintext highlighter-rouge">systeminfo | findstr /B /C:"OS Name" /C:"OS Version" /C:"System Type"</code></p>
<p>Exploiting an unquoted service path on Windows is really only useful for services, since these are normally run as SYSTEM (and that’s what we want to escalate to).</p>
<p>To cross-compile binaries for Windows using Linux, use the <code class="language-plaintext highlighter-rouge">mingw-w64</code> tool.</p>
<p>Windows also has a <code class="language-plaintext highlighter-rouge">shutdown</code> command with <em>almost</em> the same semantics as the equivalent *NIX command.</p>
<ul>
<li><a href="https://blog.g0tmi1k.com/">g0tm1lk’s Blog</a></li>
<li><a href="https://docs.microsoft.com/en-us/sysinternals/downloads/process-explorer">Docs / Sysinternals / Downloads / Process Explorer</a></li>
</ul>